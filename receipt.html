<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>收银</title>

    <link rel="stylesheet" href="css/public.css">
    <link rel="stylesheet" href="css/receipt.css">
    <link rel="stylesheet" href="css/myAlert.css">


</head>
<body>
<div id="content">
    <div class="top">
        <div class="leftTop">
            <!--<span>&#xe634;</span>-->
        </div>
        <div class="titleTop">收银</div>
        <div class="rightTop">
            <span>&#xe65d;</span>
        </div>
    </div>
    <div class="middle">
        <form action="" id="form">
            <ul>
                <li>
                    <div class="member">
                        <span>会员：</span>
                        <input type="text" id="memTxt" class="memTxt" value="" autofocus>
                        <span id="mem-icon">&#xe6be;</span>
                    </div>
                </li>
                <li>
                    <div class="money">
                        <span>金额：</span>
                        <div class="text" id="monTxt"></div>
                    </div>
                </li>
                <li>
                    <div class="number">
                        <span>油枪：</span>
                        <div class="text" id="numTxt"></div>
                    </div>
                </li>
                <li id="payClass">
                    <div class="payClass">
                        <div class="payClass-item">
                            <span>&#xe63e;</span>
                            <h4>微信</h4>
                        </div>
                        <div class="payClass-item">
                            <span>&#xe72f;</span>
                            <h4>现金</h4>
                        </div>
                        <div class="payClass-item">
                            <span>&#xe633;</span>
                            <h4>刷卡</h4>
                        </div>
                        <div class="payClass-item">
                            <span>&#xe806;</span>
                            <h4>支付宝</h4>
                        </div>
                    </div>
                </li>
            </ul>
        </form>
    </div>
    <div class="foot">

    </div>
</div>
<!--手机自定义键盘-->
<div class="layer-content1">
    <div class="form_edit1 clearfix">
        <div class="num">1</div>
        <div class="num">2</div>
        <div class="num">3</div>
        <div class="num num2">100</div>
        <div class="num">4</div>
        <div class="num">5</div>
        <div class="num">6</div>
        <div class="num num2">200</div>
        <div class="num">7</div>
        <div class="num">8</div>
        <div class="num">9</div>
        <div class="num num2">300</div>
        <div class="num">.</div>
        <div class="num">0</div>
        <div class="num">00</div>
        <div id="remove">删除</div>
    </div>
</div>
<!--编号-->
<div class="layer-content2">
    <div class="form_edit2 clearfix">
        <div class="num">1</div>
        <div class="num">2</div>
        <div class="num">3</div>
        <div class="num">4</div>
        <div class="num">5</div>
        <div class="num">6</div>
        <div class="num">7</div>
        <div class="num">8</div>
        <div class="num">9</div>
        <div class="num">10</div>
        <div class="num">11</div>
        <div class="num">12</div>
        <div class="num">13</div>
        <div class="num">14</div>
        <div class="num">15</div>
        <div class="num">16</div>
        <div class="num">17</div>
        <div class="num">18</div>
        <div class="num">19</div>
        <div class="num">20</div>
        <div class="num">21</div>
        <div class="num">22</div>
        <div class="num">23</div>
        <div class="num">24</div>
        <div class="num">25</div>
        <div class="num">26</div>
        <div class="num">27</div>
        <div class="num">28</div>
        <div class="num">29</div>
        <div class="num">30</div>
        <div class="num">31</div>
        <div class="num">32</div>
        <div class="num">33</div>
        <div class="num">34</div>
        <div class="num">35</div>
        <div class="num">36</div>
    </div>
</div>


</body>

<script src="js/jquery-2.1.3.min.js"></script>
<script src="js/myAlert.js"></script>


<script>
    // 点击清空输入会员
    $("#mem-icon").click(function () {
        $("#memTxt").val("");
    })


    // 点击出现键盘
    $("#monTxt").click(function (e) {
        $('.layer-content1').animate({
            bottom: 0
        }, 200)
        e.stopPropagation();
        $(".layer-content2").css("display","none");
        $(".layer-content1").css("display","block");
    })
    // 点击取消键盘
    $('#content').click(function(){
        $('.layer-content1').animate({
            bottom: '-200px'
        }, 200)
        $(".layer-content1").css("display","none");
    })

    // 键盘输入金额值
    $('.form_edit1 .num').click(function(){
        var monTxt = $("#monTxt");
        var currentText = monTxt.text();
        //console.log(oDiv);

        if($(this).hasClass('num2')) {
            monTxt.text($(this).text());
            return;
        }

        if(currentText.length == 0 && ($(this).text() == '00' || $(this).text() == '0' || $(this).text() == '.')) {
            $.myToast("金额过小");
            return;
        }
        if(currentText.length == 1 && currentText == '0' && $(this).text() != '.') {
            if($(this).text() != '00') {
                monTxt.text($(this).text());
            }
            return;
        }

        var temp= currentText + $(this).text();
        if(temp.length>5){
            $.myToast("金额过大");
        }
        else{
            monTxt.text(temp);
        }
    })

    // 删除取消金额输入值
    $('#remove').click(function(){
        var oDiv = document.getElementById("monTxt");
        var oDivHtml = oDiv.innerHTML;
        oDiv.innerHTML = oDivHtml.substring(0,oDivHtml.length-1);
    })



    // 点击出现编号
    $("#numTxt").click(function (e) {
        $('.layer-content2').animate({
            bottom: 0
        }, 200)
        e.stopPropagation();
        $(".layer-content2").css("display","block");
    })
    // 点击取消编号
    $('#content').click(function(){
        $('.layer-content2').animate({
            bottom: '-200px'
        }, 200)
        $(".layer-content2").css("display","none");
    })

    // 点击输入编号
    $('.form_edit2 .num').click(function(){
        var oDiv = document.getElementById("numTxt");
        oDiv.innerHTML = this.innerHTML;
    })


    // 粘贴文本
    /*function aa(){
        newT=document.selection.createRange()
        clipboardData.setData("Text",newT.text)
        document.all.pp.value=clipboardData.getData("Text")
    }*/
    /*$(".memTxt").focus(function () {
        newT=document.selection.createRange()
        clipboardData.setData("Text",newT.text)
        document.all.pp.value=clipboardData.getData("Text")
        $(".memTxt").val("1");
    })*/



    //接收android传递的数据，并显示在html上
    function AndroidToWeb(scan){
        $("#memTxt"). val(scan);
    }
    /*var str="aaaaaaaaa"
    $("#memTxt"). val(str);*/
</script>

</html>